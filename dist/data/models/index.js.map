{"version":3,"sources":["../../../src/data/models/index.js"],"names":["Promise","connect","server","poolSize","db","connection","on","err","error","message","process","exit","once","info","require","UserModel","model"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA,mBAASA,OAAT,GAAmBA,OAAnB;AACA,mBAASC,OAAT,qBAA6B,EAAEC,QAAQ,EAAEC,UAAU,EAAZ,EAAV,EAA7B;;AAEA,MAAMC,KAAK,mBAASC,UAApB;;AAEAD,GAAGE,EAAH,CAAM,OAAN,EAAeC,OAAO;AACpB,mBAAOC,KAAP,CAAa,uBAAb,sBAAkDD,IAAIE,OAAtD;AACAC,UAAQC,IAAR,CAAa,CAAb;AACD,CAHD;;AAKAP,GAAGQ,IAAH,CAAQ,MAAR,EAAgB,MAAM;AACpB,mBAAOC,IAAP,CAAY,uBAAZ;AACD,CAFD;;AAIA;AACAC,QAAQ,QAAR;;AAEO,IAAIC,gCAAY,mBAASC,KAAT,CAAe,MAAf,CAAhB","file":"index.js","sourcesContent":["import mongoose from 'mongoose';\nimport logger from '../common/logger';\nimport { mongodbUrl } from '../config';\n\nmongoose.Promise = Promise;\nmongoose.connect(mongodbUrl, { server: { poolSize: 20 } });\n\nconst db = mongoose.connection;\n\ndb.on('error', err => {\n  logger.error('connect to %s error: ', mongodbUrl, err.message);\n  process.exit(1);\n});\n\ndb.once('open', () => {\n  logger.info('connect to %s success', mongodbUrl);\n});\n\n// models\nrequire('./user');\n\nexport var UserModel = mongoose.model('User');\n"]}